
%% ================= SOURCES =================
subgraph Sources [INGESTION SOURCES]
    SRC1[Landing Zone\nS3 / ADLS\nCSV / JSON]
    SRC2[Operational DB\nPostgres / CDC]
end

%% ================= BRONZE =================
subgraph Bronze [Bronze - Raw]
    B1[Ingestion Job]
    B2[Persistent Storage]
end

Gate1{Validation}

%% ================= SILVER =================
subgraph Silver [Silver - Enriched]
    S1[Refining Logic]
    S2[Cleansed Data\nDe-duplicated\nUnified Schema]
end

Gate2{KPI Check}

%% ================= GOLD =================
subgraph Gold [Gold - Curated]
    G1[Aggregated Hub\nDim / Fact\nSemantic Layer]
end

%% ================= CONSUMPTION =================
subgraph Consume [Consumption]
    C1[Executive BI\nTableau / PowerBI]
    C2[Data Science\nJupyter / MLFlow]
    C3[Reverse ETL\nSync to CRM]
end

%% ================= FLOW =================
SRC1 --> B1
SRC2 --> B1
B1 --> B2
B2 --> Gate1 --> S1 --> S2
S2 --> Gate2 --> G1

G1 --> C1
G1 --> C2
G1 --> C3 

